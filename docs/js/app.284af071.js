(function(t){function e(e){for(var n,i,r=e[0],c=e[1],l=e[2],u=0,d=[];u<r.length;u++)i=r[u],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&d.push(s[i][0]),s[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);p&&p(e);while(d.length)d.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,i=1;i<a.length;i++){var r=a[i];0!==s[r]&&(n=!1)}n&&(o.splice(e--,1),t=c(c.s=a[0]))}return t}var n={},i={app:0},s={app:0},o=[];function r(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-01685a6b":"bfdd9776","chunk-237ce8bd":"f7c4f3fb","chunk-2f775b52":"0cb81d34","chunk-46f3528c":"b09b6f12","chunk-5c48d514":"d4bc2199","chunk-73e28a31":"0d9256e6","chunk-7bc44ea6":"358dd7ca","chunk-8c66c96a":"2ef06c58","chunk-ec88c0fa":"08755175"}[t]+".js"}function c(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a={"chunk-01685a6b":1,"chunk-237ce8bd":1,"chunk-2f775b52":1,"chunk-46f3528c":1,"chunk-5c48d514":1,"chunk-73e28a31":1,"chunk-7bc44ea6":1,"chunk-8c66c96a":1,"chunk-ec88c0fa":1};i[t]?e.push(i[t]):0!==i[t]&&a[t]&&e.push(i[t]=new Promise(function(e,a){for(var n="css/"+({}[t]||t)+"."+{"chunk-01685a6b":"53d784dc","chunk-237ce8bd":"c7e23018","chunk-2f775b52":"f6598b59","chunk-46f3528c":"deb46c21","chunk-5c48d514":"33443f57","chunk-73e28a31":"d6c953f9","chunk-7bc44ea6":"6f4aad2a","chunk-8c66c96a":"fe7bb51e","chunk-ec88c0fa":"3529f45d"}[t]+".css",s=c.p+n,o=document.getElementsByTagName("link"),r=0;r<o.length;r++){var l=o[r],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===n||u===s))return e()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){l=d[r],u=l.getAttribute("data-href");if(u===n||u===s)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var n=e&&e.target&&e.target.src||s,o=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=n,delete i[t],p.parentNode.removeChild(p),a(o)},p.href=s;var m=document.getElementsByTagName("head")[0];m.appendChild(p)}).then(function(){i[t]=0}));var n=s[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise(function(e,a){n=s[t]=[e,a]});e.push(n[2]=o);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=r(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(p);var a=s[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+n+": "+i+")",d.name="ChunkLoadError",d.type=n,d.request=i,a[1](d)}s[t]=void 0}};var p=setTimeout(function(){l({type:"timeout",target:u})},12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=n,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(a,n,function(e){return t[e]}.bind(null,n));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var p=u;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"015e":function(t,e,a){},"02e6":function(t,e,a){},"034f":function(t,e,a){"use strict";var n=a("64a9"),i=a.n(n);i.a},"0dff":function(t,e,a){},"0efe":function(t,e,a){},1:function(t,e){},1497:function(t,e,a){"use strict";var n=a("2eef"),i=a.n(n);i.a},1566:function(t,e,a){"use strict";var n=a("e697"),i=a.n(n);i.a},"1b7e":function(t,e,a){},"1cf2":function(t,e,a){"use strict";var n=a("e3c9"),i=a.n(n);i.a},"1dad":function(t,e,a){},"1df6":function(t,e,a){"use strict";var n=a("6323"),i=a.n(n);i.a},"1f79":function(t,e,a){"use strict";var n=a("807e"),i=a.n(n);i.a},"27bf":function(t,e,a){},"2eef":function(t,e,a){},"2f5e":function(t,e,a){"use strict";var n=a("f129"),i=a.n(n);i.a},"3bc2":function(t,e,a){},"45d2":function(t,e,a){"use strict";var n=a("27bf"),i=a.n(n);i.a},"48c2":function(t,e,a){},5151:function(t,e,a){"use strict";var n=a("f72b"),i=a.n(n);i.a},"56d7":function(t,e,a){"use strict";a.r(e);a("66cf");var n,i,s=a("343b"),o=(a("cadf"),a("551c"),a("f751"),a("097d"),a("2b0e")),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t.showShade?a("transition",{attrs:{name:"shade-hide"}},[a("section",{attrs:{id:"shade"}},[a("title",{staticClass:"titleD"},[t._v("音乐的力量")]),a("footer",{staticClass:"footer"},[a("i",{staticClass:"iconfont icon-wangyiyunyinle"}),t._v("\n        网易云音乐\n      ")])])]):t._e(),a("keep-alive",[t.$route.meta.keepAlive?a("router-view"):t._e()],1),t.$route.meta.keepAlive?t._e():a("router-view"),a("footer",[this.$store.state.playData?a("player"):t._e()],1),a("palyRecord",{ref:"record"})],1)},c=[],l=a("5118"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{directives:[{name:"show",rawName:"v-show",value:t.playData&&t.isRouteHome,expression:"playData&&isRouteHome"}],attrs:{id:"player"}},[a("figure",{attrs:{id:"musicData"},on:{click:t.linkMusic}},[a("div",{staticClass:"player_round"},[a("van-image",{attrs:{round:"",width:"1rem",height:"1rem",src:t.playData.pic+"?param=50y50"}})],1),a("div",{staticClass:"player_1"},[a("div",[t._v(t._s(t.playData.name))]),a("div",{staticStyle:{"font-size":"0.05rem",color:"#9e9e9e"}},[t._v("横滑可以切换上下首哦")])])]),a("figure",{attrs:{id:"musicBtn"}},[a("van-circle",{attrs:{rate:t.circleRate,"layer-color":t.palyBtn?"#f5f5f5":"#d4d4d4",size:".8rem",color:"#ff3a3a"},nativeOn:{click:function(e){return t.control(e)}},model:{value:t.currentRate,callback:function(e){t.currentRate=e},expression:"currentRate"}},[a("van-icon",{attrs:{name:t.palyBtn?"zanting2":"yousanjiao","class-prefix":"icon",size:".45rem"}})],1),a("van-icon",{staticClass:"iconList",attrs:{"class-prefix":"icon",name:"caidan"},on:{click:t.changeRecord}})],1),a("audio",{ref:"audio",attrs:{id:"audio",src:t.playData.music,loop:t.loopType},on:{timeupdate:t.timeupData,play:t.onPlay,canplay:t.canplay,ended:t.ended}},[t._v("播放器失败")])])},d=[],p=a("bd86"),m=(a("e566"),a("5d26")),f=(a("4056"),a("44bf")),h=(a("c3a6"),a("ad06")),v=(a("3b2b"),{data:function(){return{currentRate:0,circleRate:0,myAudio:{}}},computed:{videoId:function(){return this.$store.state.videoId},loopType:function(){return 2===this.playTypeIndex},playData:function(){return this.$store.state.playData},palyBtn:function(){return this.$store.state.audio.type},playSkip:function(){return this.$store.state.audio.skip},isRouteHome:function(){var t="/home/playList",e=RegExp(this.$route.matched[0].path);return e.test(t)},volume:function(){return this.$store.state.audio.volume},playTypeIndex:function(){return this.$store.state.playTypeIndex}},components:(n={},Object(p["a"])(n,h["a"].name,h["a"]),Object(p["a"])(n,f["a"].name,f["a"]),Object(p["a"])(n,m["a"].name,m["a"]),n),methods:{changeRecord:function(){this.$store.commit("showRecord")},control:function(){this.$store.commit("changePlayType",!this.palyBtn)},timeupData:function(t){var e=t.target;this.currentRate=e.currentTime/e.duration*100,this.$store.commit("volume",this.myAudio.volume),this.$store.commit("duration",this.myAudio.duration?this.myAudio.duration:0),this.$store.commit("currentTime",e.currentTime),this.$store.commit("changePlayTime",this.currentRate)},linkMusic:function(){this.$router.push("/music")},onPlay:function(){this.$store.commit("changePlayType",!0)},canplay:function(){this.myAudio.play()},ended:function(){this.loopType||this.$store.commit("playIndexNext"),this.$store.commit("changePlayType",!1)}},watch:{palyBtn:function(t){t?(this.$store.commit("videoId",""),this.myAudio.play()):this.myAudio.pause()},playSkip:function(t){this.myAudio.currentTime=t,this.$store.commit("currentTime",t)},volume:function(t){this.myAudio.volume=t},videoId:function(t){""!==t&&this.$store.commit("changePlayType",!1)}},mounted:function(){this.myAudio=this.$refs.audio}}),y=v,g=(a("1497"),a("2877")),b=Object(g["a"])(y,u,d,!1,null,"1154bede",null),_=b.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{attrs:{id:"Record"}},[a("van-popup",{staticClass:"container",attrs:{round:"",position:"bottom"},on:{close:t.closePopup},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("head",{attrs:{id:"header"}},[a("div",{on:{click:t.changePlayType}},[a("van-icon",{staticStyle:{"margin-right":"2px"},attrs:{name:t.currentPlay.icon,"class-prefix":"icon"}}),a("span",[t._v(t._s(t.currentPlay.name)+"("+t._s(t.playList.length)+")")])],1)]),a("van-list",{staticStyle:{"margin-top":"1rem"},attrs:{finished:!0,"finished-text":"没有更多了"}},t._l(t.playList,function(e,n){return a("van-cell",{key:e.id,class:{currentMusic:t.currentMusic===e.id},attrs:{title:e.name},on:{click:function(e){return t.changePlayIndex(n)}}},[a("span",{attrs:{slot:"label"},slot:"label"},[t._v(t._s(e.details))]),a("van-icon",{directives:[{name:"show",rawName:"v-show",value:t.currentMusic===e.id,expression:"currentMusic===item.id"}],attrs:{slot:"icon",name:"laba1","class-prefix":"icon"},slot:"icon"}),a("van-icon",{staticStyle:{"line-height":"inherit"},attrs:{slot:"right-icon",name:"cross"},slot:"right-icon"})],1)}),1)],1)],1)},k=[],w=(a("20d6"),a("c194"),a("7744")),C=(a("2994"),a("2bdd")),$=(a("8a58"),a("e41f")),j=(a("ac6a"),a("5df3"),a("f400"),new Map([[0,{name:"列表循环",icon:"xunhuanbofang"}],[1,{name:"随机播放",icon:"suijibofang-wangyiicon"}],[2,{name:"单曲循环",icon:"danquxunhuan"}]]));function O(t){var e=t.length;t=JSON.parse(JSON.stringify(t));while(e){var a=Math.floor(Math.random()*e--),n=[t[e],t[a]];t[a]=n[0],t[e]=n[1]}return t}var P,D,S,T,I={data:function(){return{show:this.isShow,currentPlay:{name:"列表循环",icon:"close"},randomMap:[]}},computed:{currentMusic:function(){var t=this.$store.state.playData;return!!t&&t.id},userData:function(){return this.$store.state.userData.userId},isShow:function(){return this.$store.state.showRecord},playList:function(){return this.$store.state.playList},playIndex:function(){return this.$store.state.playIndex},playTypeIndex:function(){return this.$store.state.playTypeIndex}},components:(i={},Object(p["a"])(i,$["a"].name,$["a"]),Object(p["a"])(i,h["a"].name,h["a"]),Object(p["a"])(i,C["a"].name,C["a"]),Object(p["a"])(i,w["a"].name,w["a"]),i),methods:{changePlayIndex:function(t){if(1===this.playTypeIndex){var e=this.playList[t].id;t=this.randomMap.findIndex(function(t){return t.id===e}),this.$store.commit("playIndex",t)}this.$store.commit("playIndex",t)},selectList:function(){var t=this;this.$http.get("/user/record?uid=".concat(this.userData,"&type=1")).then(function(e){var a=e.data.weekData,n=a.reduce(function(t,e){var a=e.song,n=[],i=a.ar.reduce(function(t,e){return t.push({id:e.id,name:e.name}),n.push(e.name),t},[]);return n=n.join("/"),t.push({id:a.id,name:a.name,pic:a.al.picUrl,artists:i,details:n}),t},[]);t.$store.commit("playList",n)}).catch(function(t){throw new Error(t)})},closePopup:function(){this.$store.commit("showRecord")},changePlayType:function(){this.$store.commit("changePlayTypeIndex")}},watch:{playIndex:function(t){this.$store.dispatch("selectMusic",1===this.playTypeIndex?this.randomMap[t].id:this.playList[t].id)},isShow:function(t){this.show=t},userData:function(){this.userData&&this.selectList()},playTypeIndex:function(t){var e=this;if(1===t){this.randomMap=O(this.playList);var a=this.randomMap.findIndex(function(t){return t.id===e.currentMusic});this.$store.commit("playIndex",a)}this.currentPlay=j.get(t)}},playList:function(){var t=this;if(1===this.playTypeIndex){this.randomMap=O(this.playList);var e=this.randomMap.findIndex(function(e){return e.id===t.currentMusic});this.$store.commit("playIndex",e)}}},L=I,M=(a("f155"),a("c0f6"),Object(g["a"])(L,x,k,!1,null,"31c57de4",null)),N=M.exports,E={data:function(){return{showShade:!0,transitionName:""}},components:{player:_,palyRecord:N},mounted:function(){var t=this;Object(l["setTimeout"])(function(){t.showShade=!1},1e3);var e=this.storage.get("userData");e&&("experience"===e?this.$router.push("/home"):this.$http.get("recommend/songs?timestamp=1503019930000").then(function(){t.$store.commit("upDateUser",e),t.$store.dispatch("selectLikeMuisc"),t.$router.push("/home")}).catch(function(){t.$router.push("/login")}))},watch:{$route:function(t){void 0!==t.meta.transitionType?this.transitionName=t.meta.transitionType:this.transitionName="van-fade"}}},A=E,B=(a("034f"),Object(g["a"])(A,r,c,!1,null,null,null)),R=B.exports,z=a("8c4f"),U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{attrs:{id:"home"}},[a("van-icon",{staticClass:"left",attrs:{"class-prefix":"icon",name:"MENU"},on:{click:t.showPopup}}),a("van-tabs",{attrs:{swipeable:"",sticky:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[a("van-tab",{ref:"me",attrs:{title:"我的",name:"me"}},[a("transition",{attrs:{appear:"",name:"van-fade"}},[a("me")],1)],1),a("van-tab",{ref:"find",attrs:{title:"发现",name:"find"}},[a("transition",{attrs:{appear:"",name:"van-fade"}},[a("find")],1)],1),t.userData?a("van-tab",{ref:"burg",attrs:{title:"云村",name:"burg"}},[a("transition",{attrs:{appear:"",name:"van-fade"}},[a("burg")],1)],1):t._e(),a("van-tab",{ref:"video",attrs:{title:"视频",name:"video"}},[a("transition",{attrs:{appear:"",name:"van-fade"}},[a("view-video")],1)],1)],1),a("van-icon",{staticClass:"rigth",attrs:{name:"search"},on:{click:t.linkSearch}}),a("nav",[a("navbar",{attrs:{isShowPopup:t.isShowPopup}})],1)],1)},V=[],H=(a("8e6e"),a("456d"),a("bda7"),a("5e46")),q=(a("da3c"),a("0b33")),F=(a("28a5"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-popup",{staticClass:"Popup",attrs:{position:"left"},on:{close:t.closePopup},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("main",{staticClass:"PopupMain"},[a("header",{attrs:{id:"popupLogin"}},[t.userData?a("div",{staticClass:"loginContainer"},[a("div",{staticStyle:{width:"100%",padding:"0 .4rem","box-sizing":"border-box"}},[a("van-image",{attrs:{round:"",width:"1.5rem",height:"1.5rem",src:t.userData.avatarUrl+"?param=100y100"}}),a("div",{staticStyle:{margin:"0.25rem 0px",display:"flex","align-items":"center","justify-content":"space-between"}},[a("span",[t._v(t._s(t.userData.nickname))]),a("div",{staticClass:"signBtn"},[a("van-icon",{staticStyle:{"font-size":".3rem","margin-right":"5px"},attrs:{"class-prefix":"icon",name:"jinbi"}}),a("span",[t._v("签到")])],1)])],1)]):a("div",{staticClass:"loginContainer"},[a("span",[t._v("登陆网易云音乐")]),a("span",{staticStyle:{margin:"3px 0 10px 0"}},[t._v("手机电脑多端同步,尽量海量高品质音乐")]),a("van-button",{staticClass:"loginBtn",attrs:{plain:"",type:"default",round:""},on:{click:t.loginIn}},[t._v("立即登录")])],1),a("div",{staticClass:"payVip"},[a("figure",{staticClass:"payVip_1"},[a("span",{staticClass:"payVip_1_1"},[t._v("开通黑胶VIP")]),a("span",[t._v("新课仅5元")])]),a("div",{staticClass:"payVip_1_2"}),a("figure",{staticClass:"payVip_2"},[a("span",{staticStyle:{color:"#ffffff"}},[t._v("超值礼卷免费抽")]),a("div",{staticClass:"payVip_2_round"},[a("van-icon",{staticStyle:{"font-size":".8rem",color:"#bddf94"},attrs:{"class-prefix":"icon",name:"changpian"}})],1)])])]),a("main",[a("div",{attrs:{id:"PopupNabBar"}},[a("van-grid",{staticClass:"vanGrid",attrs:{border:!1}},t._l(t.PopupNav,function(t,e){return a("van-grid-item",{key:e,attrs:{text:t.text}},[a("van-icon",{staticClass:"van-grid-item__icon",attrs:{slot:"icon","class-prefix":"icon",name:t.icon},slot:"icon"})],1)}),1)],1),a("van-cell-group",[a("van-cell",{attrs:{title:"演出",value:"杨千嬅上海",border:!1}},[a("van-icon",{staticClass:"iconStyle",attrs:{slot:"icon","class-prefix":"icon",name:"piao"},slot:"icon"})],1),a("van-cell",{attrs:{title:"商城",border:!1}},[a("van-icon",{staticClass:"iconStyle",attrs:{slot:"icon","class-prefix":"icon",name:"gouwuche"},slot:"icon"})],1),a("van-cell",{attrs:{title:"附近的人",border:!1}},[a("van-icon",{staticClass:"iconStyle",attrs:{slot:"icon","class-prefix":"icon",name:"fujinderen"},slot:"icon"})],1),a("van-cell",{attrs:{title:"游戏推荐",border:!1}},[a("van-icon",{staticClass:"iconStyle",attrs:{slot:"icon","class-prefix":"icon",name:"youxituijian"},slot:"icon"})],1),a("van-cell",{attrs:{title:"我的订单",border:!1}},[a("van-icon",{staticClass:"iconStyle",attrs:{slot:"icon","class-prefix":"icon",name:"bijiben"},slot:"icon"})],1)],1),a("van-cell-group",[a("van-cell",{attrs:{title:"定时停止播放",border:!1}},[a("van-icon",{staticClass:"iconStyle",attrs:{slot:"icon","class-prefix":"icon",name:"dingshitingzhibofang"},slot:"icon"})],1),a("van-cell",{attrs:{title:"扫一扫",border:!1}},[a("van-icon",{staticClass:"iconStyle",attrs:{slot:"icon","class-prefix":"icon",name:"saoyisao"},slot:"icon"})],1),a("van-cell",{attrs:{title:"音乐闹钟",border:!1}},[a("van-icon",{staticClass:"iconStyle",attrs:{slot:"icon","class-prefix":"icon",name:"yinlenaozhong"},slot:"icon"})],1),a("van-cell",{attrs:{title:"在线听歌免流量",border:!1}},[a("van-icon",{staticClass:"iconStyle",attrs:{slot:"icon","class-prefix":"icon",name:"zaixiantinggemianliuliang"},slot:"icon"})],1),a("van-cell",{attrs:{title:"游戏推荐",border:!1}},[a("van-icon",{staticClass:"iconStyle",attrs:{slot:"icon","class-prefix":"icon",name:"youxituijian"},slot:"icon"})],1),a("van-cell",{attrs:{title:"优惠卷",border:!1}},[a("van-icon",{staticClass:"iconStyle",attrs:{slot:"icon","class-prefix":"icon",name:"youhuiquan"},slot:"icon"})],1)],1)],1)]),a("footer",{staticClass:"van-hairline--top",attrs:{id:"popupFooter"}},[a("ul",{attrs:{id:"setContainer"}},[a("li",[a("van-icon",{attrs:{"class-prefix":"icon",name:"yejianmoshi",size:".6rem"}}),a("span",[t._v("夜间模式")])],1),a("li",[a("van-icon",{attrs:{"class-prefix":"icon",name:"shezhi",size:".6rem"}}),a("span",[t._v("设置")])],1),a("li",{on:{click:t.exit}},[a("van-icon",{attrs:{"class-prefix":"icon",name:"tuichu1",size:".6rem"}}),a("span",[t._v("退出")])],1)])])])}),J=[],G=(a("0653"),a("34e9")),W=(a("2b28"),a("9ed2")),Y=(a("0ec5"),a("21ab")),K=(a("3df5"),a("2830")),Q=(a("66b9"),a("b650")),X=(a("5246"),a("6b41")),Z={props:["isShowPopup"],data:function(){return{PopupNav:[{icon:"xiaoxi",text:"我的消息"},{icon:"haoyou",text:"我的好友"},{icon:"gexingzhuangban",text:"个性换肤"},{icon:"tinggeshiqu",text:"听歌识曲"}],show:this.isShowPopup}},computed:{userData:function(){return this.$store.state.userData}},components:(P={},Object(p["a"])(P,X["a"].name,X["a"]),Object(p["a"])(P,$["a"].name,$["a"]),Object(p["a"])(P,Q["a"].name,Q["a"]),Object(p["a"])(P,K["a"].name,K["a"]),Object(p["a"])(P,Y["a"].name,Y["a"]),Object(p["a"])(P,W["a"].name,W["a"]),Object(p["a"])(P,w["a"].name,w["a"]),Object(p["a"])(P,G["a"].name,G["a"]),Object(p["a"])(P,f["a"].name,f["a"]),Object(p["a"])(P,h["a"].name,h["a"]),P),methods:{exit:function(){var t=this;this.$http.get("/logout").then(function(){t.$store.commit("upDateUser",!1),t.$store.commit("upDatePlay",!1),t.storage.remove("userData"),t.$router.push({path:"/login",query:{type:"login"}})})},loginIn:function(){this.$store.commit("upDateUser",!1),this.$store.commit("upDatePlay",!1),this.$router.push({path:"/login",query:{type:"login"}})},closePopup:function(){this.$parent.isShowPopup=this.show}},watch:{isShowPopup:function(t){this.show=t}}},tt=Z,et=(a("1566"),Object(g["a"])(tt,F,J,!1,null,"5605bfcf",null)),at=et.exports,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{attrs:{id:"find"}},[a("div",{attrs:{id:"banner"},on:{touchstart:function(t){t.stopPropagation()},touchend:function(t){t.stopPropagation()},touchmove:function(t){t.stopPropagation()}}},[a("van-swipe",{attrs:{autoplay:3e3}},t._l(t.images,function(t,e){return a("van-swipe-item",{key:e},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.pic,expression:"item.pic"}]})])}),1)],1),a("div",{attrs:{id:"navBar"}},[a("van-grid",{staticClass:"vanGrid",attrs:{border:!1,"column-num":5}},t._l(t.navBar,function(t,e){return a("van-grid-item",{key:e,attrs:{text:t.text}},[a("van-icon",{staticClass:"van-grid-item__icon",attrs:{slot:"icon","class-prefix":"icon",name:t.icon},slot:"icon"})],1)}),1)],1),a("van-divider",{staticStyle:{margin:"0"}}),a("article",{staticStyle:{padding:"0 .3rem"},attrs:{id:"content"}},[a("section",{attrs:{id:"recommendMusicList"}},[a("title",[a("h1",[t._v("推荐歌单")]),a("van-button",{attrs:{round:"",type:"default",size:"small"}},[t._v("歌单广场")])],1),a("article",[a("musicContainer",t._l(t.recommend,function(e){return a("musicCover",{key:e.id,attrs:{id:e.id,pic:e.picUrl,lookNum:e[t.countType],title:e.name},on:{click:function(a){return t.linkPlayList(e.id)}}})}),1)],1)]),a("section",{attrs:{id:"newMusic"}},[a("van-tabs",{attrs:{animated:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[a("van-tab",{attrs:{title:"新歌"}},[a("musicContainer",t._l(t.newMusic,function(e){return a("musicCover",{key:e.id,attrs:{id:e.id,pic:e.pic,title:e.name},on:{click:function(a){return t.playMusic(e.id)}}},[a("van-icon",{staticClass:"playMusic",attrs:{name:"play-circle-o"}})],1)}),1)],1),a("van-tab",{attrs:{title:"新碟"}},[a("musicContainer",t._l(t.newdisk,function(t){return a("musicCover",{key:t.id,attrs:{id:t.id,pic:t.blurPicUrl,title:t.name}})}),1)],1)],1)],1)])],1)},it=[],st=(a("9a83"),a("f564")),ot=(a("4b0a"),a("2bb1")),rt=(a("7844"),a("5596")),ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("figure",{on:{click:t.submit}},[a("img",{attrs:{src:t.vpic+"?param=100y100"}}),t.lookNum?a("div",{staticClass:"lookNum"},[a("van-icon",{staticClass:"vanClass",attrs:{"class-prefix":"icon",name:"yousanjiao"}}),a("span",[t._v(t._s(t.vlookNum))])],1):t._e(),t._t("default"),a("div",{staticClass:"fontContainer"},[a("span",[t._v(t._s(t.vtitle))])]),t.vauthor?a("p",{attrs:{id:"author"}},[t._v(t._s(t.vauthor))]):t._e()],2)},lt=[],ut={components:Object(p["a"])({},h["a"].name,h["a"]),props:["id","pic","lookNum","title","author"],data:function(){return{vid:this.id,vpic:this.pic,vtitle:this.title,vauthor:this.author}},computed:{vlookNum:function(){var t=this.lookNum;return t<1e5?t:1e5<t&&t<1e8?"".concat(Math.floor(t/1e5),"万"):"".concat((t/1e8).toFixed(1),"亿")}},methods:{submit:function(){this.$emit("click")}}},dt=ut,pt=(a("a260"),Object(g["a"])(dt,ct,lt,!1,null,"6451d33d",null)),mt=pt.exports,ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"musicContainer"},[t._t("default")],2)},ht=[],vt={},yt=vt,gt=(a("7a9e"),Object(g["a"])(yt,ft,ht,!1,null,"7dcc5a98",null)),bt=gt.exports,_t={components:(D={},Object(p["a"])(D,rt["a"].name,rt["a"]),Object(p["a"])(D,ot["a"].name,ot["a"]),Object(p["a"])(D,K["a"].name,K["a"]),Object(p["a"])(D,Y["a"].name,Y["a"]),Object(p["a"])(D,W["a"].name,W["a"]),Object(p["a"])(D,Q["a"].name,Q["a"]),Object(p["a"])(D,q["a"].name,q["a"]),Object(p["a"])(D,H["a"].name,H["a"]),Object(p["a"])(D,"musicCover",mt),Object(p["a"])(D,"musicContainer",bt),Object(p["a"])(D,h["a"].name,h["a"]),D),data:function(){return{active:"",images:[],navBar:[{icon:"-rili",text:"每日推荐"},{icon:"gedan",text:"歌单"},{icon:"paihangbang",text:"排行榜"},{icon:"diantai",text:"电台"},{icon:"zhibo",text:"直播"}],recommend:[],newdisk:[],newMusic:[]}},computed:{countType:function(){return this.recommend[0].playCount?"playCount":"playcount"}},methods:{selectBanner:function(){var t=this;this.$http.get("/banner?type=2").then(function(e){t.images=e.data.banners}).catch(function(t){Object(st["a"])({type:"danger",message:"banner数据获取失败".concat(t)})})},selectRecommendMusicList:function(){var t=this,e=this.$store.state.userData,a=e?"/recommend/resource":"/personalized?limit=6";this.$http.get(a).then(function(e){var a=e.data,n=a.result?a.result:a.recommend;n=n.slice(0,6),t.recommend=n}).catch(function(t){Object(st["a"])({type:"danger",message:"《推荐歌单》数据获取失败".concat(t.response.data.msg)})})},selectNewDisk:function(){var t=this;this.$http.get("/top/album?offset=0&limit=3").then(function(e){t.newdisk=e.data.albums})},selectNewsong:function(){var t=this;this.$http.get("/personalized/newsong").then(function(e){var a=e.data.result.slice(0,3);a.reduce(function(t,e){var a=e.id,n=e.name,i=e.song,s=i.artists.reduce(function(t,e){return t.push({id:e.id,name:e.name}),t},[]);return t.push({id:a,name:n,pic:i.album.blurPicUrl,artists:s}),t},t.newMusic)})},linkPlayList:function(t){this.$store.commit("playListId",t),this.$router.push("/playList")},playMusic:function(t){this.$store.dispatch("selectMusic",t)}},created:function(){this.selectBanner(),this.selectRecommendMusicList(),this.selectNewDisk(),this.selectNewsong()}},xt=_t,kt=(a("edc0"),a("2f5e"),a("c281"),Object(g["a"])(xt,nt,it,!1,null,"5b078617",null)),wt=kt.exports,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{attrs:{id:"me"}},[a("figure",{attrs:{id:"module"},on:{touchstart:function(t){t.stopPropagation()},touchend:function(t){t.stopPropagation()},touchmove:function(t){t.stopPropagation()}}},[a("ul",t._l(t.navBar,function(e,n){return a("li",{key:n},[a("van-icon",{staticClass:"van-grid-item__icon",attrs:{"class-prefix":"icon",name:e.icon}}),a("span",[t._v(t._s(e.text))])],1)}),0)]),a("figure",{attrs:{id:"column"}},[a("van-cell-group",{attrs:{border:!1}},[a("van-cell",[a("van-icon",{staticClass:"iconStyle",attrs:{slot:"icon","class-prefix":"icon",name:"bendiyinle"},slot:"icon"}),a("p",[a("span",[t._v("本地音乐")]),a("span",{staticClass:"cellNum"},[t._v("(331)")])])],1),a("van-cell",[a("van-icon",{staticClass:"iconStyle",attrs:{slot:"icon","class-prefix":"icon",name:"zuijinbofang"},slot:"icon"}),a("p",[a("span",[t._v("最近播放")]),a("span",{staticClass:"cellNum"},[t._v("(143)")])])],1),a("van-cell",[a("van-icon",{staticClass:"iconStyle",attrs:{slot:"icon","class-prefix":"icon",name:"xiazaipt"},slot:"icon"}),a("p",[a("span",[t._v("下载管理")]),a("span",{staticClass:"cellNum"},[t._v("(331)")])])],1),a("van-cell",[a("van-icon",{staticClass:"iconStyle",attrs:{slot:"icon","class-prefix":"icon",name:"wodediantai"},slot:"icon"}),a("p",[a("span",[t._v("我的电台")]),a("span",{staticClass:"cellNum"},[t._v("(0)")])])],1),a("van-cell",[a("van-icon",{staticClass:"iconStyle",attrs:{slot:"icon","class-prefix":"icon",name:"wodeshoucang"},slot:"icon"}),a("p",[a("span",[t._v("我的收藏")]),a("span",{staticClass:"cellNum"},[t._v("(14)")])])],1)],1)],1),a("figure",{attrs:{id:"list"}},[a("transition",{attrs:{appear:"",name:"fade"}},[a("van-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[a("van-collapse-item",{attrs:{name:"1"}},[a("p",{staticClass:"listTitle",attrs:{slot:"title"},slot:"title"},[a("span",{staticClass:"bold"},[t._v("创建的歌单")]),a("span",{staticClass:"cellNum"},[t._v("("+t._s(t.subCount.createdPlaylistCount)+")")])]),a("div",{staticClass:"listValue",attrs:{slot:"value"},slot:"value"},[a("van-icon",{staticStyle:{"margin-right":"5px"},attrs:{name:"plus"}}),a("van-icon",{attrs:{"class-prefix":"icon",name:"caidan-dian",color:"#323233"}})],1),t._l(t.createdPlaylist,function(e){var n=e.id,i=e.coverImgUrl,s=e.name,o=e.trackCount;return a("van-cell",{key:n,attrs:{icon:"shop-o",border:!1},on:{click:function(e){return t.linkPlayList(n)}},scopedSlots:t._u([{key:"right-icon",fn:function(){return[a("van-icon",{attrs:{"class-prefix":"icon",name:"caidan-dian"}})]},proxy:!0}],null,!0)},[a("img",{staticClass:"listImg",attrs:{slot:"icon",src:i+"?param=100y100"},slot:"icon"}),a("p",{staticClass:"iconTitle",attrs:{slot:"title"},slot:"title"},[a("span",{staticClass:"iconTitleName"},[t._v(t._s(s))]),a("span",{staticClass:"iconDes"},[t._v(t._s(o)+"首")])])])})],2),a("van-collapse-item",{attrs:{name:"2"}},[a("p",{staticClass:"listTitle",attrs:{slot:"title"},slot:"title"},[a("span",{staticClass:"bold"},[t._v("收藏的歌单")]),a("span",{staticClass:"cellNum"},[t._v("("+t._s(t.subCount.subPlaylistCount)+")")])]),a("div",{staticClass:"listValue",attrs:{slot:"value"},slot:"value"},[a("van-icon",{attrs:{"class-prefix":"icon",name:"caidan-dian",color:"#323233"}})],1),t._l(t.subPlaylist,function(e){var n=e.id,i=e.coverImgUrl,s=e.name,o=e.trackCount;return a("van-cell",{key:n,attrs:{icon:"shop-o",border:!1},on:{click:function(e){return t.linkPlayList(n)}},scopedSlots:t._u([{key:"right-icon",fn:function(){return[a("van-icon",{attrs:{"class-prefix":"icon",name:"caidan-dian"}})]},proxy:!0}],null,!0)},[a("img",{staticClass:"listImg",attrs:{slot:"icon",src:i+"?param=100y100"},slot:"icon"}),a("p",{staticClass:"iconTitle",attrs:{slot:"title"},slot:"title"},[a("span",{staticClass:"iconTitleName"},[t._v(t._s(s))]),a("span",{staticClass:"iconDes"},[t._v(t._s(o)+"首")])])])})],2)],1)],1)],1)])},$t=[],jt=(a("a481"),a("342a"),a("1437")),Ot=(a("5d17"),a("f9bd")),Pt={components:(S={},Object(p["a"])(S,h["a"].name,h["a"]),Object(p["a"])(S,w["a"].name,w["a"]),Object(p["a"])(S,G["a"].name,G["a"]),Object(p["a"])(S,Ot["a"].name,Ot["a"]),Object(p["a"])(S,jt["a"].name,jt["a"]),Object(p["a"])(S,K["a"].name,K["a"]),Object(p["a"])(S,Y["a"].name,Y["a"]),S),data:function(){return{activeNames:["1","2"],createdPlaylist:[],subPlaylist:[],subCount:{createdPlaylistCount:0,subPlaylistCount:0},navBar:[{icon:"bijiben",text:"云村正能量"},{icon:"paobu",text:"跑步FM"},{icon:"jiashi",text:"驾驶模式"},{icon:"yejianmoshi",text:"Sati空间"},{icon:"zhibo",text:"私人FM"},{icon:"-rili",text:"私藏推荐"},{icon:"gedan",text:"最新电音"}]}},computed:{user:function(){return this.$store.state.userData}},methods:{selectPlayList:function(){var t=this;this.$http.get("/user/playlist?uid=".concat(this.user.userId)).then(function(e){var a=e.data.playlist;a[0].name=a[0].name.replace(t.user.nickname,"我"),a[1].name=a[1].name.replace(t.user.nickname,"我"),t.createdPlaylist=a.splice(0,4),t.subPlaylist=a}).catch(function(t){throw new Error(t)})},selectSubCount:function(){var t=this;this.$http.get("user/subcount").then(function(e){t.subCount.createdPlaylistCount=e.data.createdPlaylistCount,t.subCount.subPlaylistCount=e.data.subPlaylistCount,t.selectPlayList()}).catch(function(t){throw new Error(t)})},linkPlayList:function(t){this.$store.commit("playListId",t),this.$router.push("/playList")}},watch:{user:{handler:function(){this.user&&this.selectSubCount()},immediate:!0}}},Dt=Pt,St=(a("5151"),a("ab3e"),Object(g["a"])(Dt,Ct,$t,!1,null,"059f95b1",null)),Tt=St.exports,It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了",error:t.error,"error-text":"请求失败，点击重新加载"},on:{load:t.selectVideo,"update:error":function(e){t.error=e}},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[a("transition-group",{attrs:{appear:"",name:"van-fade"}},t._l(t.videoList,function(e){return a("figure",{key:e.id,staticClass:"list_item"},[a("div",{staticClass:"list_item_main"},[a("video-components",{staticClass:"video-components",attrs:{videoId:e.id,duration:e.duration,coverUrl:e.cover,playCount:e.playCount,videoType:"mv"}})],1),a("div",{staticClass:"list_item_titleContainer"},[a("span",{staticClass:"list_item_titleContainer_title"},[t._v(t._s(e.name))])]),a("footer",{staticClass:"info"},[a("div",[a("div",{staticStyle:{"font-size":"0.4rem"}},[t._v(t._s(e.artistName))])]),a("div",{staticClass:"btnContainer"},[a("div",[a("van-icon",{attrs:{name:"good-job-o"}}),a("span",{staticClass:"commit"},[t._v("500")])],1),a("div",[a("van-icon",{attrs:{"class-prefix":"icon",name:"pinglunpt1"}}),a("span",{staticClass:"commit"},[t._v("20")])],1),a("div",[a("van-icon",{attrs:{"class-prefix":"icon",name:"caidan-dian"}})],1)])])])}),0)],1)],1)},Lt=[],Mt=a("75fc"),Nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"player"},[t.ifShowVideo?a("video-player",{ref:"videoPlayer",staticClass:"video-player vjs-custom-skin needsclick",attrs:{playsinline:!0,options:t.playerOptions},on:{ended:t.onPlayEnded,pause:t.onPlayPause,play:t.onPlay,timeupdate:t.onPlayerTimeupDate}}):a("img",{staticStyle:{width:"100%"},attrs:{src:t.coverUrl}}),a("figure",{staticClass:"playbln",on:{click:t.onPlayer}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.playBln,expression:"!playBln"}],staticClass:"playBtn"},[a("van-icon",{attrs:{name:t.playBtnType,"class-prefix":"icon"}})],1)]),a("figure",{staticClass:"control"},[a("div",{staticClass:"control_left"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.playBln,expression:"!playBln"}],staticClass:"display: flex;",on:{click:t.onPlayer}},[a("van-icon",{attrs:{name:"yousanjiao","class-prefix":"icon"}}),a("span",{staticClass:"control_text"},[t._v(t._s(t._f("lookNumAbbr")(t.playCount)))])],1)]),a("div",{staticClass:"control_right"},[a("van-icon",{attrs:{"class-prefix":"icon",name:"paihangbang"}}),a("span",{staticClass:"control_text"},[t._v(t._s(t._f("switchSec")(t.durationms)))])],1)])],1)])},Et=[],At=(a("f576"),a("c5f6"),a("d6d3")),Bt=a.n(At),Rt=a("6f2e"),zt={mixins:[Rt["a"]],props:{videoId:{type:[String,Number]},duration:{type:Number},coverUrl:{type:String},playCount:{type:Number},videoType:{type:String,default:"video"}},data:function(){return{playerOptions:{autoplay:!0,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,sources:[{src:"http://vodkgeyttp8.vod.126.net/cloudmusic/3ebd/mv/943d/4293c082c633f7b2f39cf0b5c2bba306.mp4?wsSecret=f77ebe1a9a6618bb0cc995616f734ed3&wsTime=1570026640"}],poster:this.coverUrl,width:document.documentElement.clientWidth,notSupportedMessage:"此视频暂无法播放，请稍后再试",controlBar:{timeDivider:!1,durationDisplay:!1,remainingTimeDisplay:!1,fullscreenToggle:!1}},playBln:!1,durationms:this.duration,playBtnType:"ttpodicon",ifPlayLoad:!1}},components:Object(p["a"])({videoPlayer:At["videoPlayer"]},h["a"].name,h["a"]),computed:{currentVideoId:function(){return this.$store.state.videoId},ifPause:function(){return this.currentVideoId!==this.videoId},ifShowVideo:function(){return!!this.$refs.videoPlayer||this.currentVideoId===this.videoId}},methods:{onPlayerTimeupDate:function(t){var e=t.remainingTime();e&&(this.durationms=1e3*e)},onPlayEnded:function(){this.playBtnType="-lbxh",this.playBln=!1,this.durationms=this.duration},onPlayPause:function(){this.playBtnType="ttpodicon",this.playBln=!this.playBln},onPlay:function(){this.$store.commit("videoId",this.videoId),this.playBln=!this.playBln},selectVideoUrl:function(t){var e=this;this.$http.get("".concat(this.videoType,"/url?id=").concat(t)).then(function(t){var a=t.data;e.playerOptions.sources[0].src="mv"==e.videoType?a.data.url:a.urls[0].url}).catch(function(t){throw new Error(t)})},onPlayer:function(){var t=this;this.$store.commit("videoId",this.videoId),this.$nextTick(function(){t.playBln?t.$refs.videoPlayer.player.pause():t.$refs.videoPlayer.player.play()})}},watch:{ifPause:function(){this.playBln&&this.$refs.videoPlayer.player.pause()}},filters:{switchSec:function(t){return t/=1e3,"".concat(String(Math.round(t/60)).padStart(2,0),":").concat(String(Math.floor(t%60)).padStart(2,0))}},mounted:function(){this.selectVideoUrl(this.videoId)}},Ut=zt,Vt=(a("1df6"),Object(g["a"])(Ut,Nt,Et,!1,null,"1ef6fe81",null)),Ht=Vt.exports,qt={components:(T={"video-components":Ht},Object(p["a"])(T,C["a"].name,C["a"]),Object(p["a"])(T,h["a"].name,h["a"]),T),mixins:[Rt["a"]],data:function(){return{videoList:[],pageNum:1,limit:5,loading:!1,finished:!1,error:!1}},methods:{selectVideo:function(){var t=this;this.$http.get("/mv/all?offset=".concat((this.pageNum++-1)*this.limit,"&limit=").concat(this.limit)).then(function(e){var a,n=e.data;(a=t.videoList).push.apply(a,Object(Mt["a"])(n.data)),t.loading=!1,t.error=!1}).catch(function(t){throw new Error(t)})}}},Ft=qt,Jt=(a("d7ad"),Object(g["a"])(Ft,It,Lt,!1,null,"e48ff77e",null)),Gt=Jt.exports,Wt=a("2f62"),Yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{attrs:{id:"burg"}},[a("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了",error:t.error,"error-text":"请求失败，点击重新加载"},on:{load:t.selectData,"update:error":function(e){t.error=e}},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.event,function(t){return a("moments",{key:t.id,attrs:{data:t}})}),1)],1)},Kt=[],Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"moments"},[a("figure",{staticClass:"authorImg"},[a("img",{staticClass:"authorImg_img",attrs:{src:t.event.user.avatarUrl+"?param=50y50"}})]),a("head",{staticClass:"author"},[a("p",[a("span",{staticClass:"author_name"},[t._v(t._s(t.event.user.nickname))]),t.event.type?a("span",{staticClass:"author_type"},[t._v(t._s(t.event.type)+":")]):t._e()]),a("p",{directives:[{name:"time",rawName:"v-time",value:t.event.eventTime,expression:"event.eventTime"}],staticClass:"author_time"})]),a("article",{staticClass:"article"},[t.moments.msg?a("div",{staticClass:"msg"},[t._v(t._s(t.moments.msg))]):t._e(),a("momentsMain",{attrs:{data:t.event}})],1),a("footer",{staticClass:"info"},[a("div",{staticClass:"info_1"},[a("div",[a("van-icon",{attrs:{"class-prefix":"icon",name:"zhuanfa"}}),a("span",[t._v(t._s(t.info.shareCount))])],1),a("div",[a("van-icon",{attrs:{"class-prefix":"icon",name:"pinglunpt"}}),a("span",[t._v(t._s(t.info.commentCount))])],1),a("div",[a("van-icon",{attrs:{name:"good-job-o"}}),a("span",[t._v(t._s(t.info.likedCount))])],1)]),a("div",[a("van-icon",{attrs:{"class-prefix":"icon",name:"caidan-dian"}})],1)])])},Xt=[],Zt=(a("4662"),a("28a2"));o["a"].use(Zt["a"]);var te,ee,ae,ne,ie={props:["data"],render:function(t){var e=this,a=!1,n=this.data,i=[],s=!1;if(n.pics.length){var o;a="containerPic",s="pic_".concat(n.pics.length);var r=n.pics.map(function(a,n){return t("img",{attrs:{src:"".concat(a.rectangleUrl,"?param=100y100")},on:{click:e.openImagePreview(n)}})});i.push(t("div",{class:(o={},Object(p["a"])(o,a,a),Object(p["a"])(o,s,s),o)},r))}switch(Object.keys(n.moments)[1]){case"video":(function(){var a=JSON.parse(e.data.json).video;i.push(t(Ht,{props:{videoId:a.videoId,duration:a.durationms,coverUrl:a.coverUrl,playCount:a.playTime}}))})();break;case"song":(function(){var a=n.moments.song,s=a.id,o=a.artists,r=a.alias,c=a.album,l=a.name,u="".concat(c.blurPicUrl,"?param=100y100");o=o.reduce(function(t,e){var a=e.name;return t.push(a),t},[]).join("/"),r=r[0]?r[0]:l,i.push(t("figure",{class:"song",on:{click:e.playMusic(s)}},[t("div",{class:"song_img"},[t("img",{attrs:{src:u}})]),t("p",{class:"song_1"},[t("span",{class:"song_name"},[r]),t("span",{class:"song_artist"},[o])])]))})();break;case"playlist":(function(){var a=n.moments.playlist,s=a.id,o=a.creator,r=a.name,c=a.coverImgUrl;c="".concat(c,"?param=100y100"),o="by ".concat(o.nickname),i.push(t("figure",{class:"song",on:{click:e.linkPlayList(s)}},[t("div",{class:"song_img"},[t("img",{attrs:{src:c}})]),t("p",{class:"song_1"},[t("span",{class:"song_name"},[r]),t("span",{class:"song_artist"},[o])])]))})();break;default:break}return t("figure",{class:"momentsItem"},i)},methods:{openImagePreview:function(t){var e=this;return function(){var a=e.data.pics.map(function(t){return t.originUrl});Object(Zt["a"])({images:a,loop:!1,lazyLoad:!0,startPosition:t})}},playMusic:function(t){var e=this;return function(){e.$store.dispatch("selectMusic",t),e.$router.push("music")}},linkPlayList:function(t){var e=this;return function(){e.$store.commit("playListId",t),e.$router.push("playList")}}},mounted:function(){}},se=ie,oe=(a("598c"),Object(g["a"])(se,te,ee,!1,null,"39bfde8b",null)),re=oe.exports,ce={22:"转发",39:"发布视频",18:"分享单曲",31:"分享评论",13:"分享歌单"},le={components:(ae={},Object(p["a"])(ae,h["a"].name,h["a"]),Object(p["a"])(ae,Zt["a"].name,Zt["a"]),Object(p["a"])(ae,"momentsMain",re),ae),mixins:[Rt["a"]],props:["data"],data:function(){return{event:this.data,moments:{},info:this.data.info}},created:function(){this.event.moments=this.moments=JSON.parse(this.event.json),this.event.type=ce[this.event.type]}},ue=le,de=(a("7f14"),Object(g["a"])(ue,Qt,Xt,!1,null,"5631cdd8",null)),pe=de.exports,me={components:Object(p["a"])({moments:pe},C["a"].name,C["a"]),data:function(){return{event:[],lasttime:"-1",loading:!1,finished:!1,error:!1}},computed:{userData:function(){return this.$store.state.userData}},methods:{selectData:function(){var t=this;this.$http.get("event?pagesize=2&lasttime=".concat(this.lasttime)).then(function(e){var a,n=e.data.event;(a=t.event).push.apply(a,Object(Mt["a"])(n)),t.lasttime=t.event[t.event.length-1].eventTime,t.loading=!1,t.error=!1})}}},fe=me,he=(a("b83a"),Object(g["a"])(fe,Yt,Kt,!1,null,"7c047ff6",null)),ve=he.exports;function ye(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}function ge(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ye(a,!0).forEach(function(e){Object(p["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ye(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var be,_e,xe,ke={data:function(){return{isShowPopup:!1,showRecord:!1,active:"find"}},watch:{active:function(t,e){Object.assign(this.$refs[e].$data,this.$refs[e].$options.data())}},computed:ge({tabId:function(){return this.$route.path.split("/")[2]}},Object(Wt["b"])(["userData"])),components:(ne={},Object(p["a"])(ne,h["a"].name,h["a"]),Object(p["a"])(ne,q["a"].name,q["a"]),Object(p["a"])(ne,H["a"].name,H["a"]),Object(p["a"])(ne,"navbar",at),Object(p["a"])(ne,"find",wt),Object(p["a"])(ne,"me",Tt),Object(p["a"])(ne,"burg",ve),Object(p["a"])(ne,"view-video",Gt),ne),methods:{showPopup:function(){this.isShowPopup=!0},linkSearch:function(){this.$router.push("/search")}}},we=ke,Ce=(a("6519"),a("918e"),Object(g["a"])(we,U,V,!1,null,"5f4025c5",null)),$e=Ce.exports,je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{attrs:{id:"playList"}},[a("img",{attrs:{src:t.playlist.pic+"?param=50y50",id:"background"}}),a("div",{ref:"backgroundShade",attrs:{id:"backgroundShade"}},[a("img",{staticClass:"backgroundShade_img",attrs:{src:t.playlist.pic+"?param=50y50"}})]),a("modHead",{staticStyle:{color:"#fff",position:"fixed","z-index":"999"},attrs:{title:"歌单"}},[a("div",{attrs:{slot:"right"},slot:"right"},[a("van-icon",{attrs:{name:"search"}})],1)]),a("main",{attrs:{id:"container"},on:{scroll:function(e){return t.listScroll(e.target.scrollTop)}}},[a("loading-view",{attrs:{load:t.initLoading}}),a("figure",{attrs:{id:"details"}},[a("div",{attrs:{id:"details_img"}},[a("figure",{staticStyle:{position:"relative"}},[a("img",{attrs:{src:t.playlist.pic+"?param=100y100",id:"details_cover"}}),a("div",{attrs:{id:"playCount"}},[a("van-icon",{staticStyle:{"margin-right":"2px"},attrs:{name:"yousanjiao","class-prefix":"icon",size:".3rem"}}),a("span",[t._v(t._s(t.playlist.playCount))])],1)]),a("div",{attrs:{id:"details_title"}},[a("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.playlist.name))]),a("figure",{attrs:{id:"details_title_1"}},[a("img",{attrs:{src:t.playlist.nickname&&t.playlist.nickname.pic,id:"details_title_head"}}),a("span",[t._v(t._s(t.playlist.nickname&&t.playlist.nickname.name))]),a("van-icon",{attrs:{name:"arrow"}})],1)])]),a("ul",{attrs:{id:"control"}},[a("li",{on:{click:t.linkComm}},[a("van-icon",{attrs:{name:"pinglunpt","class-prefix":"icon"}}),a("span",[t._v("评论")])],1),a("li",[a("van-icon",{attrs:{name:"fenxiangpt","class-prefix":"icon"}}),a("span",[t._v("分享")])],1),a("li",[a("van-icon",{attrs:{name:"xiazaipt","class-prefix":"icon"}}),a("span",[t._v("下载")])],1),a("li",[a("van-icon",{attrs:{name:"yousanjiao","class-prefix":"icon"}}),a("span",[t._v("多选")])],1)])]),a("figure",{attrs:{id:"list"}},[a("div",{attrs:{id:"list_container"}},[a("div",{ref:"list_title",attrs:{id:"list_title"}},[a("van-icon",{attrs:{"class-prefix":"icon",name:"zanting",size:".65rem"}}),a("span",[t._v("播放全部")]),a("span",[t._v("(共"+t._s(t.playlist.trackCount)+"首)")])],1),a("main",{ref:"list_main",attrs:{id:"list_main"}},[a("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,function(e,n){return a("van-cell",{key:e.id,on:{click:function(a){return t.linkMusic(e.id)}}},[t.musicId===e.id?a("van-icon",{staticClass:"listNum",attrs:{slot:"icon",name:"laba1","class-prefix":"icon",color:"red"},slot:"icon"}):a("div",{staticClass:"listNum",attrs:{slot:"icon"},slot:"icon"},[t._v(t._s(n+1))]),a("div",{staticClass:"listTtitle",attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))]),a("div",{staticClass:"listLabel",attrs:{slot:"label"},slot:"label"},[t._v(t._s(e.details))]),a("div",{staticClass:"listValue",attrs:{slot:"default"},slot:"default"},[a("van-icon",{attrs:{"class-prefix":"icon",name:"caidan-dian"}})],1)],1)}),1)],1)])])],1)],1)},Oe=[],Pe=(a("ac1e"),a("543e")),De=a("c2a1"),Se=a("9305"),Te={data:function(){return{data:[],list:[],loading:!1,finished:!1,dataLen:0,initLoading:!0,playlist:{},terminus:0}},computed:{user:function(){return this.$store.state.userData},playListId:function(){return this.$store.state.playListId},musicId:function(){return this.$store.state.musicId}},components:(be={},Object(p["a"])(be,X["a"].name,X["a"]),Object(p["a"])(be,h["a"].name,h["a"]),Object(p["a"])(be,w["a"].name,w["a"]),Object(p["a"])(be,G["a"].name,G["a"]),Object(p["a"])(be,C["a"].name,C["a"]),Object(p["a"])(be,"modHead",Se["a"]),Object(p["a"])(be,Pe["a"].name,Pe["a"]),Object(p["a"])(be,"loading-view",De["a"]),be),mixins:[Rt["a"]],methods:{selectPlayList:function(){var t=this;this.initLoading=!0;var e=function(t){return t<1e5?t:1e5<t&&t<1e8?"".concat(Math.floor(t/1e5),"万"):"".concat((t/1e8).toFixed(1),"亿")};this.list=[],this.$http.get("/playlist/detail?id=".concat(this.playListId)).then(function(a){var n=a.data.playlist;t.playlist={nickname:{id:n.creator.userId,name:n.creator.nickname,pic:n.creator.avatarUrl},name:n.name.replace(t.user.nickname,"我"),playCount:e(n.playCount),trackCount:n.trackCount,pic:n.coverImgUrl},t.data=a.data.privileges,t.dataLen=t.data.length,t.onLoad(),t.$nextTick(function(){t.initLoading=!1})}).catch(function(t){throw new Error(t)})},listScroll:function(t){var e=this.$refs.list_title,a=this.$refs.backgroundShade;t>=this.terminus?(e.style.position="fixed",this.$refs.list_main.style.marginTop="1rem"):(e.style.position="",this.$refs.list_main.style.marginTop="0",a.style.filter="blur(10px)"),t+20>=this.terminus&&(a.style.filter="blur(0px)"),a.style.opacity=t/this.terminus},onLoad:function(){var t=this,e=this.data.splice(0,15),a=e.reduce(function(t,e){return t.push(e.id),t},[]).join(",");this.$http.get("/song/detail?ids=".concat(a)).then(function(e){var a,n=e.data.songs,i=n.reduce(function(t,e){var a=e.ar,n=a.reduce(function(t,e){return t.push(e.name),t},[]).join("/");return e.al&&(n+=" - ".concat(e.al.name)),t.push({id:e.id,name:e.name,author:e.ar,details:n}),t},[]);(a=t.list).push.apply(a,Object(Mt["a"])(i)),t.loading=!1,t.list.length>=t.dataLen&&(t.finished=!0)}).catch(function(t){throw new Error(t)})},linkComm:function(){var t={id:this.playListId,name:this.playlist.name,artists:[this.playlist.nickname],type:2,pic:this.playlist.pic};this.$store.commit("commentData",t),this.$router.push("comment")},linkMusic:function(t){this.$store.commit("playList",this.list),this.$store.dispatch("selectMusic",t)}},mounted:function(){this.$refs.list_title.style.position="static";var t=this.$refs.list_title;this.terminus=t.offsetTop-Number(1.2*document.documentElement.style.fontSize.slice(0,-2))},watch:{playListId:{handler:function(){this.selectPlayList()},immediate:!0}},beforeRouteLeave:function(t,e,a){"/home"===t.fullPath?e.meta.keepAlive=!1:e.meta.keepAlive=!0,a()}},Ie=Te,Le=(a("1f79"),a("665b"),Object(g["a"])(Ie,je,Oe,!1,null,"c089fe58",null)),Me=Le.exports,Ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{attrs:{id:"music"}},[a("img",{attrs:{src:t.playData.pic+"?param=10y10",id:"background"}}),a("modHead",{scopedSlots:t._u([{key:"right",fn:function(){return[a("van-icon",{attrs:{"class-prefix":"icon",name:"fenxiangpt"}})]},proxy:!0}])},[a("div",{staticClass:"musicTitle_1",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"musicName"},[t._v(t._s(t.playData.name))]),a("div",{staticClass:"author"},[t._v(t._s(t.artists))])])]),a("main",[a("cover",{directives:[{name:"show",rawName:"v-show",value:t.open,expression:"open"}]}),a("lyric",{directives:[{name:"show",rawName:"v-show",value:!t.open,expression:"!open"}]})],1),a("footer",[a("div",{attrs:{id:"progressNode"}},[a("span",{attrs:{id:"progressLeft"}},[t._v(t._s(t.currentTime))]),a("figure",{attrs:{id:"progressContainer"}},[a("van-slider",{attrs:{"bar-height":"2px","active-color":"#f44"},on:{change:t.progressChange,"drag-start":function(e){t.isDrag=!0},"drag-end":function(e){t.isDrag=!1}},model:{value:t.progress,callback:function(e){t.progress=e},expression:"progress"}},[a("div",{staticClass:"custom-button",attrs:{slot:"button"},slot:"button"})])],1),a("span",{attrs:{id:"progressRight"}},[t._v(t._s(t.duration))])]),a("div",{attrs:{id:"control"}},[a("van-icon",{attrs:{name:t.playTypeIcon,"class-prefix":"icon"},on:{click:t.changePlayType}}),a("van-icon",{attrs:{name:"shangyiqu","class-prefix":"icon"},on:{click:t.last}}),a("van-icon",{staticClass:"palyer",attrs:{name:t.play?"bofang1":"zanting","class-prefix":"icon"},on:{click:t.control}}),a("van-icon",{attrs:{name:"xiayiqu","class-prefix":"icon"},on:{click:t.next}}),a("van-icon",{attrs:{name:"caidan","class-prefix":"icon"},on:{click:t.changeRecord}})],1)])],1)},Ee=[],Ae=(a("e7e5"),a("d399")),Be=(a("5fe4"),a("8ad4")),Re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{attrs:{id:"cover"},on:{click:t.linkRouter}},[a("figure",{class:{stylusOn:t.play},attrs:{id:"stylus"}},[a("div",{attrs:{id:"stylus_1"}}),a("div",{attrs:{id:"stylus_2"}})]),a("div",{attrs:{id:"coverContent"}},[a("figure",{directives:[{name:"show",rawName:"v-show",value:t.cdShow,expression:"cdShow"}],class:{coverOn:t.play},attrs:{id:"coverContainer"}},[a("img",{attrs:{src:t.pic+"?param=150y150",id:"coverPic"},on:{load:function(e){t.cdShow=!0}}}),a("div",{attrs:{id:"CD"}})])]),a("article",{on:{click:function(t){t.stopPropagation()}}},[a("van-icon",{attrs:{"class-prefix":"icon",name:t.playData.isLike?"xihuan-wangyiicon":"xihuan-kongpt-wangyiicon"},on:{click:t.switchLike}}),a("van-icon",{attrs:{"class-prefix":"icon",name:"xiazaipt"}}),a("van-icon",{attrs:{"class-prefix":"icon",name:"jingyunyinxiaopt-wangyiicon"}}),a("van-icon",{staticClass:"comment",attrs:{"class-prefix":"icon",name:"pinglunpt1",info:t.totalNum},on:{click:t.linkComment}}),a("van-icon",{attrs:{"class-prefix":"icon",name:"xinxipt"}})],1)])},ze=[],Ue={data:function(){return{total:999,isLike:!1,cdShow:!0}},computed:{play:function(){return this.$store.state.audio.type},pic:function(){return this.$store.state.playData.pic},playData:function(){return this.$store.state.playData},pid:function(){return this.$store.state.playData.id},totalNum:function(){var t=this.total;return t<=999?t:t>999&&t<1e4?"999+":t>1e4&&t<1e5?"1w+":"10w+"}},methods:{switchLike:function(){var t=this,e=!this.playData.isLike;this.$http.get("/like?id=".concat(this.pid,"&like=").concat(e)).then(function(){t.playData.isLike=e,t.$store.commit("changeLikeArr",t.pid,e)}).catch(function(t){throw new Error(t)})},linkRouter:function(){this.$parent.open=!1},linkComment:function(){var t={id:this.pid,name:this.playData.name,artists:this.playData.artists,type:0,pic:this.playData.pic};this.$store.commit("commentData",t),this.$router.push("/comment")},selectTotal:function(){var t=this;this.pid&&this.$http.get("/comment/music?id=".concat(this.pid,"&limit=0&before=0")).then(function(e){t.total=e.data.total}).catch(function(t){throw new Error(t)})}},components:Object(p["a"])({},h["a"].name,h["a"]),watch:{pid:function(){this.cdShow=!1,this.selectTotal()},playData:{handler:function(t){this.isLike=t.isLike},immediate:!0}},created:function(){this.selectTotal()}},Ve=Ue,He=(a("45d2"),a("9ad7"),Object(g["a"])(Ve,Re,ze,!1,null,"fde846d6",null)),qe=He.exports,Fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{attrs:{id:"lyric"}},[a("div",{staticClass:"top"},[a("div",{staticStyle:{"margin-right":".3rem"}},[a("van-icon",{attrs:{"class-prefix":"icon",name:"laba1"}})],1),a("div",{staticStyle:{flex:"1"}},[a("van-slider",{attrs:{"inactive-color":"rgb(255, 255, 255,0.3)","active-color":"#fff"},on:{change:t.onChange},model:{value:t.volumeProg,callback:function(e){t.volumeProg=e},expression:"volumeProg"}},[a("div",{staticClass:"custom-button",attrs:{slot:"button"},slot:"button"})])],1)]),a("div",{ref:"lyric",attrs:{id:"lyricMain"},on:{click:t.linkRouter}},[a("div",{attrs:{id:"container"}},t._l(t.lyricData,function(e,n){return a("p",{key:n,ref:n,refInFor:!0,class:{currLyric:n===t.currLyric}},[t._v(t._s(e.text))])}),0)]),a("van-icon",{attrs:{"class-prefix":"icon",name:"xinxipt"}})],1)},Je=[],Ge=(a("55dd"),{data:function(){return{lyricData:[{id:1,text:"暂无歌词"}],currLyric:0,volumeProg:100*this.$store.state.audio.volume}},components:(_e={},Object(p["a"])(_e,h["a"].name,h["a"]),Object(p["a"])(_e,Be["a"].name,Be["a"]),_e),computed:{muiscId:function(){return this.$store.state.playData.id},progress:function(){return this.$store.state.audio.currentTime},scrollDist:function(){return.4*document.body.clientHeight-.5*this.$refs[0][0].offsetHeight},volume:function(){return this.$store.state.audio.volume}},methods:{selectLyric:function(t){var e=this;this.$http.get("/lyric?id=".concat(t)).then(function(t){var a=t.data.lrc,n=a?a.lyric:"";if(""!==n){var i=[];n.replace(/\[(.*)\](.*)/g,function(t,e,a){var n=e.split("][");n.forEach(function(t){var e=t.split(":"),n=60*e[0]+Number(e[1]);n&&i.push({id:n,text:a})})}),e.lyricData=i.sort(function(t,e){return t.id-e.id})}else e.lyricData=[{id:1,text:"暂无歌词"}]}).catch(function(t){throw new Error(t)})},changeLyric:function(t){var e=this.currLyric,a=this.lyricData[this.currLyric].id;if(t>a){e++;for(var n=this.lyricData.length;e<n;e++){var i=this.lyricData[e]&&this.lyricData[e].id,s=!this.lyricData[e+1]||t<this.lyricData[e+1].id;if(this.lyricData[e+1]&&t>i&&s)return void(this.currLyric=e)}}else for(e--;e>=0;e--){var o=this.lyricData[e]&&this.lyricData[e].id;if(t>o)return void(this.currLyric=e)}},linkRouter:function(){this.$parent.open=!0},onChange:function(t){this.$store.commit("volume",.01*t)}},watch:{muiscId:{handler:function(t){this.currLyric=0,this.selectLyric(t)},immediate:!0},progress:function(t){this.lyricData&&this.changeLyric(t)},currLyric:function(t){var e=this.$refs[t][0].offsetTop-this.scrollDist;e&&(this.$route.meta.scrollTop=e,this.$refs.lyric.scrollTo({top:e,behavior:"smooth"}))},volume:function(t){this.volumeProg=100*t}}}),We=Ge,Ye=(a("5fb3"),Object(g["a"])(We,Fe,Je,!1,null,"d8ee8c9c",null)),Ke=Ye.exports,Qe=new Map([[0,{name:"列表循环",icon:"xunhuanbofang"}],[1,{name:"随机播放",icon:"suijibofang-wangyiicon"}],[2,{name:"单曲循环",icon:"danquxunhuan"}]]),Xe={data:function(){return{progress:0,isDrag:!1,open:!0,playTypeIcon:"xunhuanbofang"}},computed:{play:function(){return this.$store.state.audio.type},playData:function(){return this.$store.state.playData},playTime:function(){return this.$store.state.audio.time},duration:function(){return this.$store.getters.duration},currentTime:function(){return this.$store.getters.currentTime},artists:function(){return!(!this.playData||!this.playData.artists)&&this.playData.artists.reduce(function(t,e){return t.push(e.name),t},[]).join("/")},playTypeIndex:function(){return this.$store.state.playTypeIndex}},components:(xe={},Object(p["a"])(xe,X["a"].name,X["a"]),Object(p["a"])(xe,h["a"].name,h["a"]),Object(p["a"])(xe,Be["a"].name,Be["a"]),Object(p["a"])(xe,"cover",qe),Object(p["a"])(xe,"lyric",Ke),Object(p["a"])(xe,"modHead",Se["a"]),xe),methods:{control:function(){this.$store.commit("changePlayType",!this.play)},progressChange:function(t){this.$store.commit("changePlaySkip",this.$store.state.audio.duration*t*.01)},changeRecord:function(){this.$store.commit("showRecord")},next:function(){this.$store.commit("playIndexNext")},last:function(){this.$store.commit("playIndexLast")},changePlayType:function(){this.$store.commit("changePlayTypeIndex")}},watch:{playTime:function(t){this.isDrag||(this.progress=t)},playTypeIndex:function(t){Object(Ae["a"])({position:"bottom",message:Qe.get(t).name,duration:1e3}),this.playTypeIcon=Qe.get(t).icon}}},Ze=Xe,ta=(a("73d2"),a("9f09"),Object(g["a"])(Ze,Ne,Ee,!1,null,"c2346560",null)),ea=ta.exports;o["a"].use(z["a"]);var aa=[{path:"/",redirect:"login"},{path:"/video",name:"video",component:Ht},{path:"/search",component:function(){return a.e("chunk-ec88c0fa").then(a.bind(null,"efe3"))},children:[{path:"",redirect:"hot"},{path:"hot",component:function(){return a.e("chunk-73e28a31").then(a.bind(null,"a677"))}},{path:"details",name:"searchDetails",meta:{keepAlive:!0},component:function(){return a.e("chunk-8c66c96a").then(a.bind(null,"71a4"))}}]},{path:"/login",name:"login",meta:{keepAlive:!0},component:function(){return a.e("chunk-46f3528c").then(a.bind(null,"9ed6"))}},{path:"/userName",name:"userName",meta:{keepAlive:!0},component:function(){return a.e("chunk-2f775b52").then(a.bind(null,"4026"))}},{path:"/signIn",name:"signIn",meta:{keepAlive:!0},component:function(){return a.e("chunk-237ce8bd").then(a.bind(null,"ab4c"))}},{path:"/home",name:"home",meta:{keepAlive:!0},component:$e},{path:"/music",name:"music",meta:{keepAlive:!0},component:ea},{path:"/comment",component:function(){return a.e("chunk-7bc44ea6").then(a.bind(null,"6686"))},children:[{path:"",redirect:"song"},{path:"song",meta:{keepAlive:!0,scrollEl:"scroll",scrollTop:0},component:function(){return a.e("chunk-5c48d514").then(a.bind(null,"4c1a"))},beforeEnter:function(t,e,a){"/music"==e.path&&(t.meta.scrollTop=0),a()}},{path:"hot",name:"hot",component:function(){return a.e("chunk-01685a6b").then(a.bind(null,"e8f3"))}}]},{path:"/playList",name:"playList",meta:{keepAlive:!0,scrollEl:"container",scrollTop:0},component:Me}],na=new z["a"]({routes:aa,scrollBehavior:function(t){if(t.meta.keepAlive&&t.meta.scrollEl){var e=document.querySelector("#".concat(t.meta.scrollEl));e.scrollTop=t.meta.scrollTop}}});na.beforeEach(function(t,e,a){if(e.meta.keepAlive&&e.meta.scrollEl){var n=document.querySelector("#".concat(e.meta.scrollEl)),i=n?n.scrollTop:0;e.meta.scrollTop=i}a()});var ia=na,sa={musicId:function(t,e){t.musicId=e},upDateUser:function(t,e){t.userData=e},upDatePlay:function(t,e){t.playData=e},changePlayType:function(t,e){t.audio.type=e},changePlayTime:function(t,e){t.audio.time=e},changePlaySkip:function(t,e){t.audio.skip=e},currentTime:function(t,e){t.audio.currentTime=e},duration:function(t,e){t.audio.duration=e},showRecord:function(t){t.showRecord=!t.showRecord},volume:function(t,e){t.audio.volume=e},playListId:function(t,e){t.playListId=e},commentData:function(t,e){t.commentData=e},playList:function(t,e){t.playList=e},playIndex:function(t,e){t.playIndex=e},playIndexNext:function(t){t.playIndex<t.playList.length-1?t.playIndex+=1:t.playIndex=0},playIndexLast:function(t){t.playIndex>0?t.playIndex-=1:t.playIndex=t.playList.length-1},changePlayTypeIndex:function(t){t.playTypeIndex+1>=3?t.playTypeIndex=0:t.playTypeIndex+=1},videoId:function(t,e){t.videoId=e},keywords:function(t,e){t.keywords=e},likeArr:function(t,e){t.likeArr=e},changeLikeArr:function(t,e){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(a)t.likeArr.push(e);else{var n=t.likeArr;n.likeArr.splice(n.indexOf(e),1)}}},oa=a("768b"),ra=a("bc3a"),ca=a.n(ra),la={selectMusic:function(t,e){var a=t.commit,n=t.state,i=function(){return ca.a.get("/song/url?id=".concat(e)).then(function(t){return t.data.data[0].url}).catch(function(t){throw t(t)})},s=function(){return ca.a.get("/song/detail?ids=".concat(e)).then(function(t){return t.data.songs[0]}).catch(function(t){throw t(t)})};ca.a.all([i(),s()]).then(function(t){var i=Object(oa["a"])(t,2),s=i[0],o=i[1],r={id:e,music:s,name:o.name,pic:o.al.picUrl,type:0,artists:o.ar,isLike:-1!==n.likeArr.indexOf(e)};a("musicId",r.id),a("upDatePlay",r)})},selectLikeMuisc:function(t){var e=t.commit,a=t.state;ca.a.get("/likelist?uid=32953014?id=".concat(a.userData.userId)).then(function(t){var a=t.data;e("likeArr",a.ids)}).catch(function(t){throw t(t)})}},ua=function(t){var e=Math.round(t),a="".concat(Math.floor(e/60)).padStart(2,0),n="".concat(Math.floor(e%60)).padStart(2,0);return"".concat(a,":").concat(n)},da={duration:function(t){return ua(t.audio.duration)},currentTime:function(t){return ua(t.audio.currentTime)}};o["a"].use(Wt["a"]);var pa={userData:!1,playData:!1,musicId:!1,playList:[],playIndex:0,playTypeIndex:0,audio:{type:!1,time:!1,skip:!1,currentTime:0,duration:0,volume:0},videoId:"",showRecord:!1,scrollLyric:!1,playListId:2711160546,commentData:{},keywords:"",likeArr:[]},ma=new Wt["a"].Store({state:pa,getters:da,actions:la,mutations:sa}),fa=a("8e9a");a("02e6"),a("b059"),a("5cfb");a("fda2"),a("451f"),a("5b9e"),o["a"].use(s["a"],{loading:"https://static.oschina.net/uploads/img/201409/26073952_Vd2W.gif"}),o["a"].use(Bt.a),o["a"].config.productionTip=!1,ca.a.defaults.baseURL="http://39.108.131.220:4000",ca.a.defaults.withCredentials=!0,o["a"].prototype.$http=ca.a,o["a"].prototype.storage=fa["c"],new o["a"]({router:ia,store:ma,render:function(t){return t(R)}}).$mount("#app")},"598c":function(t,e,a){"use strict";var n=a("015e"),i=a.n(n);i.a},"5b9e":function(t,e,a){},"5fb3":function(t,e,a){"use strict";var n=a("3bc2"),i=a.n(n);i.a},"605e":function(t,e,a){},6323:function(t,e,a){},"64a9":function(t,e,a){},6519:function(t,e,a){"use strict";var n=a("ea21"),i=a.n(n);i.a},"665b":function(t,e,a){"use strict";var n=a("0efe"),i=a.n(n);i.a},"6aa4":function(t,e,a){},"6e3c":function(t,e,a){},"6f2e":function(t,e,a){"use strict";var n=a("8e9a"),i={directives:{time:{bind:function(t,e){t.innerHTML=n["a"].getFormateTime(e.value),t.__timeout__=setInterval(function(){t.innerHTML=n["a"].getFormateTime(e.value)},6e4)},unbind:function(t){clearInterval(t.__timeout__),delete t.__timeout__}}},filters:{lookNumAbbr:function(t){if(t>1e5){var e=Math.floor(t/1e4),a=String(t%1e4).slice(0,1);t="0"===a?"".concat(e,"万"):"".concat(e,".").concat(a,"万")}return t}}};e["a"]=i},"73d2":function(t,e,a){"use strict";var n=a("ea77"),i=a.n(n);i.a},"7a9e":function(t,e,a){"use strict";var n=a("c7e5"),i=a.n(n);i.a},"7f14":function(t,e,a){"use strict";var n=a("48c2"),i=a.n(n);i.a},"807e":function(t,e,a){},"808b":function(t,e,a){},"8e9a":function(t,e,a){"use strict";a.d(e,"c",function(){return i}),a.d(e,"b",function(){return s}),a.d(e,"a",function(){return o});a("f576"),a("28a5");var n=a("7618"),i={get:function(t){var e=localStorage.getItem(t);if(!e)return!1;try{var a=JSON.parse(e);if("object"===Object(n["a"])(a))return a;if("number"===typeof a)return a}catch(i){return e}},set:function(t,e){localStorage.setItem(t,e)},remove:function(t){localStorage.removeItem(t)},clear:function(){localStorage.clear()},setList:function(t){for(var e in t)localStorage.setItem(e,t[e])},removeList:function(t){for(var e=0,a=t.length;e<a;e++)localStorage.removeItem(t[e])}},s={setCookie:function(t,e,a){var n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3);var i="expires="+n.toUTCString();document.cookie=t+"="+e+";"+i+";path=/"},getCookie:function(t){for(var e=t+"=",a=decodeURIComponent(document.cookie),n=a.split(";"),i=0;i<n.length;i++){var s=n[i];while(" "==s.charAt(0))s=s.substring(1);if(0==s.indexOf(e))return s.substring(e.length,s.length)}return null}},o={getUnix:function(){var t=new Date;return t.getTime()},getTodayUnix:function(){var t=new Date;return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.getTime()},getYearUnix:function(){var t=new Date;return t.setMonth(0),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.getTime()},getLastDate:function(t){var e=new Date(t),a=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,n=e.getDate()<10?"0"+e.getDate():e.getDate();return e.getFullYear()+"年"+a+"月"+n+"日"},getMonthDate:function(t){var e=new Date(t),a=e.getMonth()+1,n=e.getDate();return"".concat(a,"月").concat(n,"日")},getFormateTime:function(t){var e=this.getUnix(),a=this.getTodayUnix(),n=(e-t)/1e3,i="";if(n<=0)i="刚刚";else if(Math.floor(n/60)<=0)i="刚刚";else if(n<3600)i=Math.floor(n/60)+"分钟前";else if(n>=3600&&t-a>=0){var s=new Date(t);i="".concat(String(s.getHours()).padStart(2,"0"),":").concat(String(s.getMinutes()).padStart(2,"0"))}else i=n/86400<=31?Math.ceil(n/86400)+"天前":n/86400<=365?this.getMonthDate(t):this.getLastDate(t);return i}}},"918e":function(t,e,a){"use strict";var n=a("6aa4"),i=a.n(n);i.a},9305:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("head",{attrs:{id:"head"}},[a("div",{attrs:{id:"left"},on:{click:t.left}},[a("van-icon",{attrs:{name:"arrow-left"}})],1),a("div",{attrs:{id:"main"}},[t._t("title",[a("span",[t._v(t._s(t.title))])])],2),a("div",{attrs:{id:"right"}},[t._t("right",[a("van-icon",{attrs:{name:"more-o"}})])],2)])},i=[],s=a("bd86"),o=(a("c3a6"),a("ad06")),r={data:function(){return{}},props:["title"],components:Object(s["a"])({},o["a"].name,o["a"]),methods:{left:function(){this.$listeners.left?this.$emit("left"):this.$router.go(-1)}}},c=r,l=(a("1cf2"),a("2877")),u=Object(l["a"])(c,n,i,!1,null,"50cc396c",null);e["a"]=u.exports},"9ad7":function(t,e,a){"use strict";var n=a("ac25"),i=a.n(n);i.a},"9c0b":function(t,e,a){},"9f09":function(t,e,a){"use strict";var n=a("808b"),i=a.n(n);i.a},a260:function(t,e,a){"use strict";var n=a("0dff"),i=a.n(n);i.a},a90f:function(t,e,a){"use strict";var n=a("c25e"),i=a.n(n);i.a},ab3e:function(t,e,a){"use strict";var n=a("605e"),i=a.n(n);i.a},ac25:function(t,e,a){},adb6:function(t,e,a){},b059:function(t,e,a){},b83a:function(t,e,a){"use strict";var n=a("1b7e"),i=a.n(n);i.a},c0f6:function(t,e,a){"use strict";var n=a("9c0b"),i=a.n(n);i.a},c25e:function(t,e,a){},c281:function(t,e,a){"use strict";var n=a("f596"),i=a.n(n);i.a},c2a1:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{directives:[{name:"show",rawName:"v-show",value:t.load,expression:"load"}],staticClass:"initLoading"},[t.error?a("van-loading",{attrs:{size:"24px",vertical:""}},[t._v("加载失败，请稍后再试")]):a("transition",{attrs:{name:"van-fade"}},[a("van-loading",{staticStyle:{"margin-top":"10%"},attrs:{color:"rgb(255, 68, 68)"}},[a("span",[t._v("努力加载中...")])])],1)],1)},i=[],s=a("bd86"),o=(a("ac1e"),a("543e")),r={props:{load:{type:Boolean,default:!0,required:!0},error:{type:Boolean,default:!1}},components:Object(s["a"])({},o["a"].name,o["a"])},c=r,l=(a("a90f"),a("2877")),u=Object(l["a"])(c,n,i,!1,null,"7330b7ea",null);e["a"]=u.exports},c7e5:function(t,e,a){},d7ad:function(t,e,a){"use strict";var n=a("6e3c"),i=a.n(n);i.a},e3c9:function(t,e,a){},e697:function(t,e,a){},ea21:function(t,e,a){},ea77:function(t,e,a){},edc0:function(t,e,a){"use strict";var n=a("adb6"),i=a.n(n);i.a},f129:function(t,e,a){},f155:function(t,e,a){"use strict";var n=a("1dad"),i=a.n(n);i.a},f596:function(t,e,a){},f72b:function(t,e,a){}});
//# sourceMappingURL=app.284af071.js.map