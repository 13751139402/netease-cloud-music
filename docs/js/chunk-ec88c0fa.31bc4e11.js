(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ec88c0fa"],{1146:function(t,e,i){},"4ddd":function(t,e,i){"use strict";var s=i("8f40"),n=i.n(s);n.a},"565f":function(t,e,i){"use strict";var s=i("2638"),n=i.n(s),r=i("c31d"),a=i("ad06"),o=i("7744"),c=i("dfaf"),l=i("1325"),h=i("a142");function u(){return!h["d"]&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase())}var f=i("a8c1"),d=u();function g(){d&&Object(f["e"])(Object(f["b"])())}var b=i("d282"),p=i("ea8e"),v=Object(b["a"])("field"),y=v[0],m=v[1];e["a"]=y({inheritAttrs:!1,props:Object(r["a"])({},c["a"],{error:Boolean,readonly:Boolean,autosize:[Boolean,Object],leftIcon:String,rightIcon:String,clearable:Boolean,labelClass:null,labelWidth:[Number,String],labelAlign:String,inputAlign:String,errorMessage:String,errorMessageAlign:String,type:{type:String,default:"text"}}),data:function(){return{focused:!1}},watch:{value:function(){this.$nextTick(this.adjustSize)}},mounted:function(){this.format(),this.$nextTick(this.adjustSize)},computed:{showClear:function(){return this.clearable&&this.focused&&""!==this.value&&Object(h["b"])(this.value)&&!this.readonly},listeners:function(){var t=Object(r["a"])({},this.$listeners,{input:this.onInput,keypress:this.onKeypress,focus:this.onFocus,blur:this.onBlur});return delete t.click,t},labelStyle:function(){var t=this.labelWidth;if(t)return{width:Object(p["a"])(t)}}},methods:{focus:function(){this.$refs.input&&this.$refs.input.focus()},blur:function(){this.$refs.input&&this.$refs.input.blur()},format:function(t){if(void 0===t&&(t=this.$refs.input),t){var e=t,i=e.value,s=this.$attrs.maxlength;return"number"===this.type&&Object(h["b"])(s)&&i.length>s&&(i=i.slice(0,s),t.value=i),i}},onInput:function(t){t.target.composing||this.$emit("input",this.format(t.target))},onFocus:function(t){this.focused=!0,this.$emit("focus",t),this.readonly&&this.blur()},onBlur:function(t){this.focused=!1,this.$emit("blur",t),g()},onClick:function(t){this.$emit("click",t)},onClickLeftIcon:function(t){this.$emit("click-left-icon",t)},onClickRightIcon:function(t){this.$emit("click-right-icon",t)},onClear:function(t){Object(l["c"])(t),this.$emit("input",""),this.$emit("clear",t)},onKeypress:function(t){if("number"===this.type){var e=t.keyCode,i=-1===String(this.value).indexOf("."),s=e>=48&&e<=57||46===e&&i||45===e;s||Object(l["c"])(t)}"search"===this.type&&13===t.keyCode&&this.blur(),this.$emit("keypress",t)},adjustSize:function(){var t=this.$refs.input;if("textarea"===this.type&&this.autosize&&t){t.style.height="auto";var e=t.scrollHeight;if(Object(h["c"])(this.autosize)){var i=this.autosize,s=i.maxHeight,n=i.minHeight;s&&(e=Math.min(e,s)),n&&(e=Math.max(e,n))}e&&(t.style.height=e+"px")}},renderInput:function(){var t=this.$createElement,e=this.slots("input");if(e)return t("div",{class:m("control",this.inputAlign)},[e]);var i={ref:"input",class:m("control",this.inputAlign),domProps:{value:this.value},attrs:Object(r["a"])({},this.$attrs,{readonly:this.readonly}),on:this.listeners,directives:[{name:"model",value:this.value}]};return"textarea"===this.type?t("textarea",n()([{},i])):t("input",n()([{attrs:{type:this.type}},i]))},renderLeftIcon:function(){var t=this.$createElement,e=this.slots("left-icon")||this.leftIcon;if(e)return t("div",{class:m("left-icon"),on:{click:this.onClickLeftIcon}},[this.slots("left-icon")||t(a["a"],{attrs:{name:this.leftIcon}})])},renderRightIcon:function(){var t=this.$createElement,e=this.slots,i=e("right-icon")||this.rightIcon;if(i)return t("div",{class:m("right-icon"),on:{click:this.onClickRightIcon}},[e("right-icon")||t(a["a"],{attrs:{name:this.rightIcon}})])}},render:function(){var t,e=arguments[0],i=this.slots,s=this.labelAlign,n={icon:this.renderLeftIcon};return i("label")&&(n.title=function(){return i("label")}),e(o["a"],{attrs:{icon:this.leftIcon,size:this.size,title:this.label,center:this.center,border:this.border,isLink:this.isLink,required:this.required,clickable:this.clickable,titleStyle:this.labelStyle,titleClass:[m("label",s),this.labelClass],arrowDirection:this.arrowDirection},class:m((t={error:this.error,disabled:this.$attrs.disabled},t["label-"+s]=s,t["min-height"]="textarea"===this.type&&!this.autosize,t)),scopedSlots:n,on:{click:this.onClick}},[e("div",{class:m("body")},[this.renderInput(),this.showClear&&e(a["a"],{attrs:{name:"clear"},class:m("clear"),on:{touchstart:this.onClear}}),this.renderRightIcon(),i("button")&&e("div",{class:m("button")},[i("button")])]),this.errorMessage&&e("div",{class:m("error-message",this.errorMessageAlign)},[this.errorMessage])])}})},"75d3":function(t,e,i){},"88c4":function(t,e,i){"use strict";var s=i("75d3"),n=i.n(s);n.a},"8f40":function(t,e,i){},efe3:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{attrs:{id:"search"}},[i("head",[i("div",{attrs:{id:"left"},on:{click:t.left}},[i("van-icon",{attrs:{name:"arrow-left"}})],1),i("div",{attrs:{id:"head_main"}},[i("form",{attrs:{action:"/"}},[i("van-search",{attrs:{placeholder:t.defaultKeyWord,"left-icon":"",clearable:!1},on:{input:t.changeValue,search:t.searchData},model:{value:t.keywords,callback:function(e){t.keywords=e},expression:"keywords"}})],1)]),i("div",{attrs:{id:"right"}},[t._t("right",[i("van-icon",{attrs:{name:"more-o"}})])],2),i("section",{directives:[{name:"show",rawName:"v-show",value:t.showSuggest,expression:"showSuggest"}],staticClass:"suggest"},[i("head",{staticClass:"searchBtn",on:{click:function(e){return t.searchData(t.keywords)}}},[t._v('搜索"'+t._s(t.keywords)+'"')]),i("ul",t._l(t.suggest,function(e,s){return i("li",{key:s,on:{click:function(i){return t.searchData(e.keyword)}}},[i("van-icon",{attrs:{name:"search"}}),i("span",[t._v(t._s(e.keyword))])],1)}),0)])]),i("main",[i("keep-alive",[i("router-view")],1)],1)])},n=[],r=i("bd86"),a=(i("68ef"),i("09fe"),i("1146"),i("f032"),i("2638")),o=i.n(a),c=i("c31d"),l=i("d282"),h=i("ba31"),u=i("1325"),f=i("565f"),d=Object(l["a"])("search"),g=d[0],b=d[1],p=d[2];function v(t,e,i,s){function n(){if(i.label||e.label)return t("div",{class:b("label")},[i.label?i.label():e.label])}function r(){if(e.showAction)return t("div",{class:b("action")},[i.action?i.action():t("div",{on:{click:n}},[p("cancel")])]);function n(){Object(h["a"])(s,"input",""),Object(h["a"])(s,"cancel")}}var a={attrs:s.data.attrs,on:Object(c["a"])({},s.listeners,{input:function(t){Object(h["a"])(s,"input",t)},keypress:function(t){13===t.keyCode&&(Object(u["c"])(t),Object(h["a"])(s,"search",e.value)),Object(h["a"])(s,"keypress",t)}})},l=Object(h["b"])(s);return delete l.attrs,t("div",o()([{class:b({"show-action":e.showAction}),style:{background:e.background}},l]),[t("div",{class:b("content",e.shape)},[n(),t(f["a"],o()([{attrs:{type:"search",border:!1,value:e.value,leftIcon:e.leftIcon,rightIcon:e.rightIcon,clearable:e.clearable},scopedSlots:{"left-icon":i["left-icon"],"right-icon":i["right-icon"]}},a]))]),r()])}v.props={value:String,label:String,rightIcon:String,showAction:Boolean,shape:{type:String,default:"square"},clearable:{type:Boolean,default:!0},background:{type:String,default:"#fff"},leftIcon:{type:String,default:"search"}};var y,m=g(v),k=(i("c3a6"),i("ad06")),w=i("8e9a"),$={data:function(){return{keywords:"",defaultKeyWord:"",suggest:[],showSuggest:!1,history:[]}},props:["title"],components:(y={},Object(r["a"])(y,k["a"].name,k["a"]),Object(r["a"])(y,m.name,m),y),computed:{vuexKeyWords:function(){return this.$store.state.keywords}},methods:{left:function(){this.$listeners.left?this.$emit("left"):this.$router.go(-1)},serachPlace:function(){var t=this;this.$http.get("search/default").then(function(e){t.defaultKeyWord=e.data.data.showKeyword}).catch(function(t){throw new Error(t)})},changeValue:function(t){var e=this;if(""===t)return this.showSuggest=!1,void(this.suggest=[]);this.showSuggest=!0,this.$http.get("search/suggest?keywords= ".concat(t,"&type=mobile")).then(function(t){e.suggest=t.data.result.allMatch}).catch(function(t){throw new Error(t)})},searchData:function(t){t.trim()||(t=this.defaultKeyWord),this.$store.commit("keywords",t),this.showSuggest=!1,this.$router.push("details")}},watch:{vuexKeyWords:function(t){this.keywords=t;var e=this.history.indexOf(t);-1!==e&&this.history.splice(e,1),this.history.unshift(t),w["b"].setCookie("keywordsHistory",JSON.stringify(this.history))}},created:function(){var t=w["b"].getCookie("keywordsHistory");this.history=t?JSON.parse(t):[],this.serachPlace()}},S=$,O=(i("4ddd"),i("88c4"),i("2877")),j=Object(O["a"])(S,s,n,!1,null,"820b5400",null);e["default"]=j.exports},f032:function(t,e,i){}}]);
//# sourceMappingURL=chunk-ec88c0fa.31bc4e11.js.map